<!-- template to display details page of a surf journal entry -->
{% extends 'base.html' %}
{% block body %}

    {% block bg %}
    <style>
        body {
            background: url("../static/img/bg_swellLines_detail.png") no-repeat center center fixed; 
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            background-position: bottom; 
            background-position-y: 15%;
        }
    </style>
    {% endblock %}
<div class="content-container">


    <div class="row"> <!-- top row -->

        <!-- when, where, with whom -->
        <div class="col-md-9"> <!-- beach col -->

            <h2>{{entry.loc.beach_name}}
            {% if entry.spot_name %}
                <small>({{entry.spot_name}})</small>
            {% endif %}
            </h2>

            <h3>{{entry.date_time_start.strftime('%m/%d/%Y')}}
                <small>{{entry.date_time_start.strftime('%I:%m %p')}}</small>
            {% if entry.go_out == "N" %}
                <small>(condition check: did not go out)</small>
            {% endif %}
            </h3>

            
            {% if entry.buddy_name %}
                <h3>(went out with {{entry.buddy_name}})</h3>
            {% else %}
                {% if entry.go_out == "Y" %}
                <h2><small>(Went out solo)</small></h2>
                {% endif %}
            {% endif %}

        </div> <!-- closes beach col -->


        <!-- MSW data -->
        <div class="col-md-3"> <!-- MSW col -->

            <div class="row" id = "row-title"> <!-- title row inside MSW col -->
                <h3>Conditions:</h3>
            </div>  <!-- closes title row inside MSW col -->

            <div class="row"> <!-- content row inside MSW col -->
                <table class="table-nonfluid">
                    <thead>
                        <tr>
                            <th>Swell</th>
                            <th>Wind</th>
                        </tr>
                    </thead>
                     
                    <tbody>
                        <tr>    
                            <td><div title="{{entry.swell1_dir_deg_global}}&deg; {{entry.swell1_dir_comp}}" class="msw-swa msw-swa-{{entry.swell1_arrow_deg}}"> </div>
                                {{entry.swell1_ht}} ft. @ {{entry.swell1_per}} sec</td>
                            <td><div title="{{entry.wind_dir_deg}}&deg;" class="msw-ssa msw-ssa-{{entry.wind_arrow_deg}}"> </div> <br> {{entry.wind_speed}} ({{entry.wind_gust}})</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div> <!-- closes MSW col -->

    </div>  <!-- closes top row -->


    <div class="row"> <!-- middle row -->

        <div class="col-md-4"> <!-- board col -->

            <div class="row" id = "row-title"> <!-- title row inside board col -->
                <h3>Board Info:</h3>
            </div>  <!-- closes title row inside board col -->
                
            <div class="row"> <!-- content row inside board col -->

                <div class="col-md-2"> <!-- board icon col -->
                    {% if entry.board.category %}
                        <div class="icon-board">
                            <img src="/static/img/icon_board_{{entry.board.category}}.png" title="{{entry.board.category}}"></a>
                        </div>
                    {% endif %}
                </div> <!-- closes board icon col -->

                <div class="col-md-10 col-board"> <!-- board info col -->
                    <h4>
                        <p>
                        {{entry.board.nickname}}
                        {% if entry.board.length_ft %}
                            {{entry.board.length_ft}}' {{entry.board.length_in}}"
                        {% endif %}
                        {% if entry.board.fins %}
                            ({{entry.board.fins}})
                        {% endif %}
                        </p>

                        {% if entry.board_pref == "ok" %}
                        {% else %}
                            <p>(wanted a {{entry.board_pref}} board)</p>
                        {% endif %}
                        {% if entry.board_notes%}
                            <p>Notes on board: {{entry.board_notes}}</p>
                        {% endif %}

                    </h4>
                </div> <!-- closes board info col -->

            </div>  <!-- closes content row inside board col -->

        </div>  <!-- closes board col -->

        <div class="col-md-4"> <!-- space between board and ratings col -->
        </div> <!-- closes space between board and ratings col -->

        <!-- user ratings -->
        <div class="col-md-4"> <!-- ratings col -->

            <div class="row" id = "row-title"> <!-- title row inside ratings col -->
                <h3>Ratings Info:</h3>
            </div>  <!-- closes title row inside ratings col -->
                
            <div class="row"> <!-- content row inside ratings col -->
                <h4>
                    {% if entry.rate_wave_challenge %}
                        <p>Wave challenge level: {{wave_challenge_dict[entry.rate_wave_challenge]}}</p>
                    {% endif %}

                    {% if entry.rate_wave_fun %}
                        <p>Wave fun level: {{wave_fun_dict[entry.rate_wave_fun]}}</p>
                    {% endif %}

                    {% if entry.rate_crowd_den %}
                        <p>Crowd density: {{crowd_den_dict[entry.rate_crowd_den]}}</p>
                    {% endif %}

                    {% if entry.rate_crowd_vibe %}
                        <p>Crowd vibe: {{crowd_vibe_dict[entry.rate_crowd_vibe]}}</p>
                    {% endif %}

                    <p>Overall fun level:
                    {% if entry.go_out == "N" %}
                        looked {{overall_fun_dict[entry.rate_overall_fun]}} (condition check)</p>
                    {% else %}
                        {{overall_fun_dict[entry.rate_overall_fun]}}</p>
                    {% endif %}
                </h4>
            </div>  <!-- closes content row inside ratings col -->

        </div> <!-- closes ratings col -->

    </div>  <!-- closes middle row -->


    <div class="row"> <!-- bottom row -->

        <div class="col-md-12"> <!-- user notes on session -->
            {% if entry.gen_notes %}
                <span class="title-center">
                <h4>
                Notes on overall experience: {{entry.gen_notes}}
                </h4>
            </span>
            {% endif %}
        </div> <!-- closes user notes on session -->

    </div> <!-- closes bottom row -->


</div> <!-- closes content container -->

<!-- credit to the API -->
<div class = "msw">
    <a href="http://magicseaweed.com"><img src="http://im-1-uk.msw.ms/msw_powered_by.png"></a>
    <br>
    <h5 class = "msw">Surf condtion data from magicseaweed.com</h5> 
</div>

{% endblock %}
